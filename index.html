<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Allowance please? ü•∫</title>
  <style>
    :root {
      --bg1: #f7f7ff;
      --bg2: #eef3ff;
      --fg: #0f172a;
      --accent: #6d28d9;
      --accent-2: #22c55e;
      --danger: #ef4444;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--fg);
      background: radial-gradient(1200px 800px at 20% 10%, var(--bg2), transparent),
                  radial-gradient(1200px 800px at 80% 90%, var(--bg2), transparent),
                  var(--bg1);
      overflow: hidden;
      user-select: none;
    }

    .wrap {
      height: 100%;
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .card {
      width: min(680px, 92vw);
      background: white;
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      padding: 28px;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.05);
    }

    h1 {
      margin: 0 0 18px;
      font-size: clamp(28px, 4.6vw, 40px);
      line-height: 1.1;
      text-align: center;
    }

    .sub { text-align: center; opacity: 0.8; margin-bottom: 22px; font-size: clamp(14px, 2.8vw, 16px); }

    .arena {
      position: relative;
      height: 320px;
      border-radius: 20px;
      background: linear-gradient(180deg, #ffffff, #fbfbff);
      border: 1px dashed rgba(0,0,0,0.08);
      overflow: hidden;
    }

    /* Button stage that fills the arena */
    .buttons {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    button {
      border: 0;
      padding: 14px 22px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease, opacity 180ms ease, left 120ms ease, top 120ms ease;
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }

    #yesBtn { background: var(--accent); color: white; z-index: 1; }
    #yesBtn:active { transform: scale(0.98); }

    /* No is absolutely positioned inside the stage and we move it via left/top */
    #noBtn {
      background: var(--danger);
      color: white;
      position: absolute;
      left: 12px;
      top: 12px;
      z-index: 2;
    }

    .hint { text-align: center; opacity: .6; margin-top: 10px; font-size: 13px; }

    /* Thank-you screen */
    .thankyou {
      display: grid;
      place-items: center;
      gap: 12px;
      padding: 40px 16px;
      text-align: center;
      min-height: 260px;
    }

    .big { font-size: clamp(28px, 6vw, 48px); font-weight: 900; }

    .confetti { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }
    .confetti i { position: absolute; top: -20px; width: 10px; height: 14px; border-radius: 2px; animation: fall linear forwards; }
    @keyframes fall { to { transform: translateY(120vh) rotate(720deg); opacity: .9; } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <h1>Allowance please? ü•∫</h1>
      <p class="sub">Pretty please click <strong>Yes</strong> ü•π</p>

      <div class="arena" id="arena">
        <div class="buttons" id="stage">
          <button id="yesBtn" aria-label="Yes">Yes ‚úÖ</button>
          <button id="noBtn" aria-label="No (you can't catch me!)">No ‚ùå</button>
        </div>
      </div>
      <p class="hint">Tip: Try hovering over <em>No</em> üòâ</p>
      <div class="confetti" id="confetti"></div>
    </div>
  </div>

  <script>
    const arena = document.getElementById('arena');
    const stage = document.getElementById('stage');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const card = document.getElementById('card');
    const confettiLayer = document.getElementById('confetti');

    function clamp(min, val, max) { return Math.max(min, Math.min(val, max)); }

    function placeNoRandom(keepAwayRadius = 140) {
      const w = stage.clientWidth;
      const h = stage.clientHeight;
      const nbw = noBtn.offsetWidth || 110;
      const nbh = noBtn.offsetHeight || 44;
      const pad = 8;
      const maxX = w - nbw - pad;
      const maxY = h - nbh - pad;

      let x = pad + Math.random() * (maxX - pad);
      let y = pad + Math.random() * (maxY - pad);

      // Keep it some distance from the Yes button (centered)
      const yesCenterX = w / 2;
      const yesCenterY = h / 2;
      const dx = x + nbw/2 - yesCenterX;
      const dy = y + nbh/2 - yesCenterY;
      const dist = Math.hypot(dx, dy);
      if (dist < keepAwayRadius) {
        const angle = Math.atan2(dy, dx) + Math.PI; // opposite direction
        x = clamp(pad, yesCenterX + Math.cos(angle) * (keepAwayRadius + 20) - nbw/2, maxX);
        y = clamp(pad, yesCenterY + Math.sin(angle) * (keepAwayRadius + 20) - nbh/2, maxY);
      }

      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
    }

    function runAway() {
      placeNoRandom(160);
      // playful wiggle
      noBtn.animate([
        { transform: 'rotate(0deg)' },
        { transform: 'rotate(8deg)' },
        { transform: 'rotate(-6deg)' },
        { transform: 'rotate(0deg)' }
      ], { duration: 300, easing: 'ease' });
    }

    // Evasive on hover, focus, or touch
    ['mouseenter', 'focus', 'pointerdown', 'touchstart'].forEach(evt => noBtn.addEventListener(evt, runAway, { passive: true }));

    // Also run if pointer gets too close
    stage.addEventListener('mousemove', (e) => {
      const rect = noBtn.getBoundingClientRect();
      const d = Math.hypot(e.clientX - (rect.left + rect.width/2), e.clientY - (rect.top + rect.height/2));
      if (d < 120) runAway();
    });

    // Yes ‚Üí Thank you
    yesBtn.addEventListener('click', () => {
      card.innerHTML = `
        <div class="thankyou">
          <div class="big">Thank you! ü•∞</div>
          <div>You're the <strong>best sister</strong> ever. I'll be super responsible with it! ‚ú®</div>
          <button id="again" style="margin-top:14px;background:var(--accent-2);color:#fff;padding:12px 18px;border-radius:999px;border:0;font-weight:700;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.12);">Go back</button>
        </div>
      `;
      launchConfetti(120);
      document.getElementById('again').addEventListener('click', () => location.reload());
    });

    // Confetti
    function launchConfetti(n = 80) {
      const colors = ['#22d3ee', '#f472b6', '#f59e0b', '#84cc16', '#60a5fa', '#c084fc'];
      for (let i = 0; i < n; i++) {
        const piece = document.createElement('i');
        const size = 6 + Math.random() * 10;
        piece.style.width = size + 'px';
        piece.style.height = (size * 1.2) + 'px';
        piece.style.left = (Math.random() * 100) + 'vw';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.opacity = .7;
        const duration = 1800 + Math.random() * 1400;
        piece.style.animationDuration = duration + 'ms';
        confettiLayer.appendChild(piece);
        setTimeout(() => piece.remove(), duration + 200);
      }
    }

    // Initialize
    window.addEventListener('load', () => {
      placeNoRandom();
      // Keep No inside on resize
      new ResizeObserver(() => placeNoRandom()).observe(stage);
    });
  </script>
</body>
</html>
